### **Face Detection & Recognition App**
üì∏ **FaceDetectionTest** ‚Äì —Ü–µ –¥–æ–¥–∞—Ç–æ–∫ –¥–ª—è —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è –æ–±–ª–∏—á, —è–∫–∏–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **ML Kit Face Detection API** –¥–ª—è —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –ª—é–¥–µ–π –Ω–∞ —Ñ–æ—Ç–æ —Ç–∞ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —ó—Ö —ñ–∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö.

---

## üöÄ **–Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –¥–ª—è –∑–∞–ø—É—Å–∫—É**
### **1. –í–∏–º–æ–≥–∏**
–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –ø—Ä–æ—î–∫—Ç—É –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —É –≤–∞—Å –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ:
- **Android Studio Giraffe (–∞–±–æ –Ω–æ–≤—ñ—à–æ—ó –≤–µ—Ä—Å—ñ—ó)**
- **Gradle 8+**
- **Java 11+**
- **Android SDK 26+ (–º—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –≤–µ—Ä—Å—ñ—è), Target SDK 35**
- **–ü—Ä–∏—Å—Ç—Ä—ñ–π –∞–±–æ –µ–º—É–ª—è—Ç–æ—Ä –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é –∫–∞–º–µ—Ä–∏ (API 26+)**

---

### **2. –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é**
```sh
git clone https://github.com/Reksagon/FaceDetectionTest.git
cd FaceDetectionTest
```

---

### **3. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π**
Gradle –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç—å —É—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏. –Ø–∫—â–æ –≤–∏–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º–∏, –∑–∞–ø—É—Å—Ç—ñ—Ç—å:
```sh
./gradlew build
```

---

### **4. –ó–∞–ø—É—Å–∫ –Ω–∞ –µ–º—É–ª—è—Ç–æ—Ä—ñ –∞–±–æ –ø—Ä–∏—Å—Ç—Ä–æ—ó**
#### üîπ **–ó–∞–ø—É—Å–∫ —É Android Studio**  
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –ø—Ä–æ—î–∫—Ç —É **Android Studio**  
2. –ó–∞–ø—É—Å—Ç—ñ—Ç—å **–µ–º—É–ª—è—Ç–æ—Ä –∞–±–æ –ø—ñ–¥–∫–ª—é—á—ñ—Ç—å —Ä–µ–∞–ª—å–Ω–∏–π –ø—Ä–∏—Å—Ç—Ä—ñ–π**  
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å ‚ñ∂ **Run (Shift + F10)**  

#### üîπ **–ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω–∏–π —Ä—è–¥–æ–∫**
```sh
./gradlew installDebug
adb shell am start -n com.korniienko.facedetectiontest/.MainActivity
```

---

## üèó **–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É**
- **MVVM (Model-View-ViewModel)** ‚Äì –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–∏–π –ø–∞—Ç–µ—Ä–Ω  
- **ML Kit Face Detection API** ‚Äì –¥–ª—è —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è –æ–±–ª–∏—á  
- **Room Database** ‚Äì –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –æ—Å—ñ–±  
- **Dagger Hilt** ‚Äì –¥–ª—è DI  
- **Coroutines** ‚Äì –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—ó —Ä–æ–±–æ—Ç–∏  

---

## ü§ñ **–Ø–∫ –ø—Ä–∞—Ü—é—î –∞–ª–≥–æ—Ä–∏—Ç–º –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –æ–±–ª–∏—á**
### **1. –ó–∞—Ö–æ–ø–ª–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è**
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ:
- üì∑ **–ó—Ä–æ–±–∏—Ç–∏ —Ñ–æ—Ç–æ** (—á–µ—Ä–µ–∑ –∫–∞–º–µ—Ä—É)  
- üìÅ **–û–±—Ä–∞—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è** (–∑ –≥–∞–ª–µ—Ä–µ—ó)  

–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ø–µ—Ä–µ–¥–∞—î—Ç—å—Å—è —É `FaceDetectionHelper`, –¥–µ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è **InputImage**.

---

### **2. –í–∏—è–≤–ª–µ–Ω–Ω—è –æ–±–ª–∏—á**
–ó–∞ –¥–æ–ø–æ–º–æ–≥–æ—é **ML Kit Face Detection API** –≤–∏–∑–Ω–∞—á–∞—é—Ç—å—Å—è –æ–±–ª–∏—á—á—è:
```kotlin
suspend fun detectFaces(bitmap: Bitmap): List<Rect> = withContext(Dispatchers.IO) {
    val image = InputImage.fromBitmap(bitmap, 0)
    val faces = Tasks.await(detector.process(image))
    faces.map { it.boundingBox }
}
```
–Ø–∫—â–æ –æ–±–ª–∏—á—á—è –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ ‚Üí –≤–∏–≤–æ–¥–∏—Ç—å—Å—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è **"–û–±–ª–∏—á—á—è –Ω–µ —Ä–æ–∑–ø—ñ–∑–Ω–∞–Ω–æ"**.

---

### **3. –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —ñ–∑ –∑–±–µ—Ä–µ–∂–µ–Ω–∏–º–∏ –æ–±–ª–∏—á—á—è–º–∏**
–î–ª—è –∫–æ–∂–Ω–æ—ó –æ—Å–æ–±–∏ –∑ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö –æ—Ç—Ä–∏–º—É—î—Ç—å—Å—è —ó—ó –∑–±–µ—Ä–µ–∂–µ–Ω–µ —Ñ–æ—Ç–æ —Ç–∞ —à—É–∫–∞—î—Ç—å—Å—è –∑–±—ñ–≥ **Bounding Box (Rect)**:
```kotlin
if (storedFaces.any { storedFace -> detectedFaces.any { it.intersect(storedFace) } }) {
    matchedPersons.add(person)
}
```
–Ø–∫—â–æ –∑–Ω–∞–π–¥–µ–Ω–æ –∑–±—ñ–≥, –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è —Å–ø–∏—Å–æ–∫ —Ä–æ–∑–ø—ñ–∑–Ω–∞–Ω–∏—Ö –æ—Å—ñ–±.

---

## üß™ **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è**
### **–Æ–Ω—ñ—Ç-—Ç–µ—Å—Ç–∏**
–ü—Ä–æ—î–∫—Ç –º—ñ—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç–∏ –¥–ª—è:
- **FaceDetectionHelperTest** ‚Äì –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è –æ–±–ª–∏—á
- **RecognizeFaceUseCaseTest** ‚Äì –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ª–æ–≥—ñ–∫–∏ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –æ–±–ª–∏—á
- **PersonRepositoryImplTest** ‚Äì –¢–µ—Å—Ç—É—î –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ç–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –æ—Å—ñ–± —ñ–∑ –±–∞–∑–∏
- **AddPersonUseCaseTest** ‚Äì –ü–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ –º–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ –æ—Å–æ–±—É –≤ –±–∞–∑—É
- **MainCoroutineRule** ‚Äì –ù–∞–ª–∞—à—Ç–æ–≤—É—î –∫–æ—Ä—É—Ç–∏–Ω–∏ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è 

–ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Ç–µ—Å—Ç–∏ –º–æ–∂–Ω–∞ –∫–æ–º–∞–Ω–¥–æ—é:
```sh
./gradlew test
```

---

## ‚ö† **–ù–µ–æ–±—Ö—ñ–¥–Ω—ñ –¥–æ–∑–≤–æ–ª–∏**
–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –¥–æ–¥–∞—Ç–æ–∫ –∑–∞–ø–∏—Ç—É—î —Ç–∞–∫—ñ –¥–æ–∑–≤–æ–ª–∏:
```xml
<uses-permission android:name="android.permission.CAMERA" />
<uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE"/>
```
–Ø–∫—â–æ –¥–æ—Å—Ç—É–ø –¥–æ –∫–∞–º–µ—Ä–∏ –∞–±–æ –≥–∞–ª–µ—Ä–µ—ó –Ω–µ –Ω–∞–¥–∞–Ω–æ, –¥–æ–¥–∞—Ç–æ–∫ –≤—ñ–¥–æ–±—Ä–∞–∑–∏—Ç—å –∑–∞–ø–∏—Ç –¥–æ–∑–≤–æ–ª—É.

---

## üìå **–ú–æ–∂–ª–∏–≤—ñ –ø–æ–º–∏–ª–∫–∏ —Ç–∞ —ó—Ö –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è**
| –ü–æ–º–∏–ª–∫–∞ | –í–∏—Ä—ñ—à–µ–Ω–Ω—è |
|---------|-----------|
| `java.lang.SecurityException: Permission Denial` | –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –¥–æ–¥–∞–Ω–æ **CAMERA** —Ç–∞ **READ_STORAGE** |
| `android.graphics.Rect not mocked` | –î–æ–¥–∞–π—Ç–µ `mockk(relaxed = true)` —É —é–Ω—ñ—Ç-—Ç–µ—Å—Ç–∞—Ö |
| `java.lang.AbstractMethodError: getContentResolver()` | –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `mockk<Context>(relaxed = true)` —É —Ç–µ—Å—Ç–∞—Ö |

---

## ‚ú® **–ê–≤—Ç–æ—Ä**
üë®‚Äçüíª **Denys Korniienko**  
üìß Email: den.kornienko2012@gmail.com
üîó [GitHub](https://github.com/Reksagon)  
